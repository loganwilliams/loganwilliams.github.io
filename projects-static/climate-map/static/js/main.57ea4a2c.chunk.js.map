{"version":3,"sources":["constants/constants.js","components/Choropleth/Choropleth.js","components/ZipCode/ZipCode.js","components/Controls/Controls.js","components/Legend/Legend.js","components/Controls/LayerControl.js","components/ComparisonZips/ComparisonZips.js","App.js","serviceWorker.js","index.js"],"names":["stats","tco2","id","min","max","name","shortname","units","housing","transport","food","goods","services","vmt","income","homevalue","base","popden","population","tco2_income","incomeCoefficient","housing_income","transport_income","food_income","goods_income","services_income","dirs","options","Choropleth","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","Map","ReactMapboxGl","accessToken","state","map","zoom","valueStyle","layer","layers","value","slice","length","norm","range","react_default","a","createElement","style","center","maxZoom","minZoom","key","lib_esm","geoJsonSource","type","url","sourceId","sourceLayer","filter","paint","fill-color","Math","pow","fill-opacity","fill-outline-color","before","onClick","onMouseMove","selected","line-color","line-width","line-opacity","Component","Value","_this$props","zip","v","PersonsPerHousehold","normalizedValue","className","backgroundColor","d3","round","FootprintComponents","_this$props2","title","ZipCode_Value","numberWithCommas","x","toString","replace","ZipCode","_this$props3","preview","src","concat","GEOID10","alt","City","State","ZipCode_FootprintComponents","Controls","part","i","comparison","JSON","parse","stringify","onChange","e","nativeEvent","target","defaultValue","dir","option","Legend","decimal","LayerControl","mapLayer","href","components_Legend_Legend","ComparisonZips","criteria","zipcodes","z","reduce","acc","cur","tolerance","objectSpread","score","sqrt","weight","sort","b","_this2","sortArray","c","multiple","targetZip","sorted","sortValues","s","components_ZipCode_ZipCode","App","targetIncome","hovered","then","missingZips","indexOf","setState","features","properties","Longitude","Latitude","selection","_this3","components_Choropleth_Choropleth","select","bind","Controls_Controls_Controls","setComparison","components_ComparisonZips_ComparisonZips","components_Controls_LayerControl","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.57ea4a2c.chunk.js","sourcesContent":["export const stats = {\n  tco2: {\n    id: \"Total Household Carbon Footprint (tCO2e/yr)\",\n    min: 0,\n    max: 75,\n    name: \"Per household carbon footprint (tCO2e/yr)\",\n    shortname: \"carbon footprint\",\n    units: \"tCO2e/yr\"\n  },\n  housing: {\n    id: \"Housing (tCO2e/yr)\",\n    min: 3.84,\n    max: 25,\n    name: \"Housing carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (housing)\",\n    units: \"tCO2e/yr\"\n  },\n  transport: {\n    id: \"Transport (tCO2e/yr)\",\n    min: 2.76,\n    max: 30,\n    name: \"Transport carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (transportation)\",\n    units: \"tCO2e/yr\"\n  },\n  food: {\n    id: \"Food (tCO2e/yr)\",\n    min: 3,\n    max: 12,\n    name: \"Food carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (food)\",\n    units: \"tCO2e/yr\"\n  },\n  goods: {\n    id: \"Goods (tCO2e/yr)\",\n    min: 2.5,\n    max: 10,\n    name: \"Goods carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (goods)\",\n    units: \"tCO2e/yr\"\n  },\n  services: {\n    id: \"Services (tCO2e/yr)\",\n    min: 2.5,\n    max: 12,\n    name: \"Services carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (services)\",\n    units: \"tCO2e/yr\"\n  },\n  vmt: {\n    id: \"Vehicle miles traveled\",\n    min: 3271,\n    max: 40000,\n    name: \"Vehicle miles traveled (miles/year)\",\n    units: \"miles/yr\"\n  },\n  income: {\n    id: \"IncomePerHousehold\",\n    min: 2500,\n    max: 130000,\n    name: \"Income per household\",\n    units: \"$\",\n    shortname: \"annual income\"\n  },\n  homevalue: {\n    id: \"AverageHouseValue\",\n    min: 20000,\n    max: 800000,\n    name: \"Average house value\",\n    base: 2,\n    units: \"$\",\n    shortname: \"home value\"\n  },\n  popden: {\n    id: \"popden\",\n    min: 0,\n    max: 30000,\n    name: \"Population density (pop/sq. mi.)\",\n    base: 5,\n    shortname: \"population density\",\n    units: \"pop/sq. mile.\"\n  },\n  population: {\n    id: \"Population\",\n    shortname: \"population\",\n    min: 0,\n    max: 80000\n  },\n  tco2_income: {\n    id: \"Total Household Carbon Footprint (tCO2e/yr)\",\n    min: 20,\n    max: 50,\n    base: 1,\n    incomeCoefficient: 0.000352623921726188,\n    units: \"tCO2e/yr\"\n  },\n  housing_income: {\n    id: \"Housing (tCO2e/yr)\",\n    min: 4,\n    max: 21,\n    name: \"Housing carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (housing)\",\n    units: \"tCO2e/yr\",\n    incomeCoefficient: 4.4792617074884626e-5\n  },\n  transport_income: {\n    id: \"Transport (tCO2e/yr)\",\n    min: 2.1,\n    max: 20.2,\n    name: \"Transport carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (transportation)\",\n    units: \"tCO2e/yr\",\n    incomeCoefficient: 0.0001457372116613509\n  },\n  food_income: {\n    id: \"Food (tCO2e/yr)\",\n    min: 4.8,\n    max: 9.9,\n    name: \"Food carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (food)\",\n    units: \"tCO2e/yr\",\n    incomeCoefficient: 9.85661998935793e-6\n  },\n  goods_income: {\n    id: \"Goods (tCO2e/yr)\",\n    min: 2.1,\n    max: 2.8,\n    name: \"Goods carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (goods)\",\n    units: \"tCO2e/yr\",\n    incomeCoefficient: 6.549999094902087e-5\n  },\n  services_income: {\n    id: \"Services (tCO2e/yr)\",\n    min: 2,\n    max: 2.25,\n    name: \"Services carbon footprint, per household (tCO2e/yr)\",\n    shortname: \"carbon footprint (services)\",\n    units: \"tCO2e/yr\",\n    incomeCoefficient: 8.67393135956937e-5\n  }\n};\n\nexport const dirs = [\"similar\", \"lower\", \"higher\"];\nexport const options = [\n  [\"income\", \"homevalue\"],\n  [\"population\", \"popden\"],\n  [\"tco2\", \"housing\", \"transport\", \"food\", \"goods\", \"services\"]\n];\n","import React, { Component } from \"react\";\nimport ReactMapboxGl, { Source, Layer } from \"react-mapbox-gl\";\nimport { stats } from \"../../constants/constants\";\n\nclass Choropleth extends Component {\n  constructor(props) {\n    super(props);\n    const Map = ReactMapboxGl({\n      accessToken:\n        \"pk.eyJ1IjoibG9nYW53IiwiYSI6ImNqNTFscTg3ZTA1M3Myd3A5ZnoxMXQ1eHkifQ.rD4GwekG5CArTiMkIuv-gA\"\n    });\n\n    this.state = {\n      map: Map,\n      zoom: [9]\n    };\n  }\n\n  render() {\n    let layer = this.props.layers\n      ? stats[this.props.layers.value]\n      : stats[\"tco2\"];\n\n    const Map = this.state.map;\n\n    let min = layer.min;\n    let max = layer.max;\n\n    let valueStyle;\n\n    if (\n      this.props.layers.value.slice(this.props.layers.value.length - 7) ===\n      \"_income\"\n    ) {\n      valueStyle = [\n        \"-\",\n        [\"get\", layer.id],\n        [\"*\", [\"get\", \"IncomePerHousehold\"], layer.incomeCoefficient]\n      ];\n    } else {\n      valueStyle = [\"get\", layer.id];\n    }\n\n    if (this.props.layers.norm === \"capita\") {\n      valueStyle = [\"/\", valueStyle, [\"get\", \"PersonsPerHousehold\"]];\n      min /= 2.65;\n      max /= 2.65;\n    }\n\n    let range = max - min;\n    const base = layer.base || 1;\n\n    return (\n      <Map\n        // eslint-disable-next-line\n        style=\"mapbox://styles/loganw/cjw2lyxv406gz1cmrmlsm5j3m\"\n        center={this.props.center}\n        zoom={this.state.zoom}\n        maxZoom={14}\n        minZoom={3}\n        key=\"mainMap\"\n      >\n        <Source\n          id=\"climate\"\n          key=\"climate\"\n          geoJsonSource={{\n            type: \"vector\",\n            url: \"mapbox://loganw.6l0uhilq\"\n          }}\n        />\n\n        <Layer\n          key=\"data-layer-climate\"\n          id=\"data-fill-climate\"\n          sourceId=\"climate\"\n          type=\"fill\"\n          sourceLayer=\"joined2\"\n          filter={[\"has\", layer.id]}\n          paint={{\n            \"fill-color\": [\n              \"interpolate\",\n              [\"linear\"],\n              valueStyle,\n              Math.pow(0, base) * range + min,\n              \"#440154\",\n              Math.pow(0.25, base) * range + min,\n              \"#3b528b\",\n              Math.pow(0.5, base) * range + min,\n              \"#21918c\",\n              Math.pow(0.75, base) * range + min,\n              \"#5ec962\",\n              Math.pow(1.0, base) * range + min,\n              \"#fde725\"\n            ],\n            \"fill-opacity\": 0.8,\n            \"fill-outline-color\": \"rgba(1,1,1,0)\"\n          }}\n          before=\"hillshade_highlight_bright\"\n          onClick={this.props.onClick}\n          onMouseMove={this.props.onMouseMove}\n        />\n        <Layer\n          key=\"data-line-climate\"\n          id=\"data-line-climate\"\n          sourceId=\"climate\"\n          type=\"line\"\n          sourceLayer=\"joined2\"\n          filter={[\"==\", [\"get\", \"GEOID10\"], this.props.selected]}\n          paint={{\n            \"line-color\": \"black\",\n            \"line-width\": 2,\n            \"line-opacity\": 0.8\n          }}\n        />\n      </Map>\n    );\n  }\n}\n\nexport default Choropleth;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport { stats } from \"../../constants/constants\";\nimport \"./ZipCode.scss\";\n\nclass Value extends Component {\n  render() {\n    const { zip, value, norm } = this.props;\n\n    const v =\n      norm === \"capita\"\n        ? zip[stats[value].id] / zip.PersonsPerHousehold\n        : zip[stats[value].id];\n\n    const min = norm === \"capita\" ? stats[value].min / 2.65 : stats[value].min;\n\n    const max = norm === \"capita\" ? stats[value].max / 2.65 : stats[value].max;\n\n    const normalizedValue = (v - min) / (max - min);\n\n    return (\n      <div\n        className={\"value\" + (normalizedValue > 0.5 ? \" black\" : \" white\")}\n        style={{ backgroundColor: d3.interpolateViridis(normalizedValue) }}\n      >\n        {Math.round(v)}\n      </div>\n    );\n  }\n}\n\nclass FootprintComponents extends Component {\n  render() {\n    const { zip, norm } = this.props;\n\n    return (\n      <div className=\"components\">\n        <div className=\"component\" title=\"Housing\">\n          <div className=\"title\">H</div>\n          <Value value=\"housing\" zip={zip} norm={norm} />\n        </div>\n\n        <div className=\"component\" title=\"Transportation\">\n          <div className=\"title\">T</div>\n          <Value value=\"transport\" zip={zip} norm={norm} />\n        </div>\n\n        <div className=\"component\" title=\"Food\">\n          <div className=\"title\">F</div>\n          <Value value=\"food\" zip={zip} norm={norm} />\n        </div>\n\n        <div className=\"component\" title=\"Goods\">\n          <div className=\"title\">G</div>\n\n          <Value value=\"goods\" zip={zip} norm={norm} />\n        </div>\n\n        <div className=\"component\" title=\"Services\">\n          <div className=\"title\">S</div>\n          <Value value=\"services\" zip={zip} norm={norm} />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction numberWithCommas(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nclass ZipCode extends Component {\n  render() {\n    const { zip, preview } = this.props;\n    const norm = this.props.norm || \"household\";\n\n    return (\n      <div\n        className={\"zip\" + (preview ? \" preview\" : \"\")}\n        onClick={this.props.onClick}\n      >\n        <div className=\"img\">\n          <img\n            src={`https://zip-code-ims.s3-us-west-2.amazonaws.com/${\n              zip.GEOID10 ? zip.GEOID10 : zip.ZipCode\n            }.jpg`}\n            alt=\"\"\n          />\n        </div>\n        <div className=\"stats\">\n          <div className=\"name\">\n            {zip.City +\n              \", \" +\n              zip.State +\n              \" \" +\n              (zip.GEOID10 ? zip.GEOID10 : zip.ZipCode)}\n          </div>\n          <div className=\"desc\">\n            {\"$\" +\n              numberWithCommas(zip[stats[this.props.stats[0]].id]) +\n              \" / \" +\n              numberWithCommas(Math.round(zip[stats[this.props.stats[1]].id]))}\n            {this.props.stats[1] === \"popden\" ? (\n              <span>\n                /mi<sup>2</sup>\n              </span>\n            ) : null}\n          </div>\n          <div className=\"total\">\n            <Value zip={zip} value={\"tco2\"} norm={norm} />\n          </div>\n          <FootprintComponents zip={zip} norm={norm} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ZipCode;\n","import React, { Component } from \"react\";\nimport { dirs, options, stats } from \"../../constants/constants\";\nimport \"./Controls.scss\";\n\nexport default class Controls extends Component {\n  onChange(part, value, i) {\n    let comparison = JSON.parse(JSON.stringify(this.props.comparison));\n    comparison[i][part] = value;\n    this.props.onChange(comparison);\n  }\n\n  render() {\n    let rows = [0, 1, 2];\n\n    return (\n      <div className=\"Controls\">\n        <div className=\"info\">Compare ZIP Codes with</div>\n\n        {rows.map(i => {\n          return (\n            <div className=\"row\" key={\"row \" + i}>\n              <select\n                onChange={e =>\n                  this.onChange(\"dir\", e.nativeEvent.target.value, i)\n                }\n                defaultValue={this.props.comparison[i].dir}\n              >\n                {dirs.map(dir => (\n                  <option key={dir} value={dir}>\n                    {dir}\n                  </option>\n                ))}\n              </select>\n              <select\n                onChange={e =>\n                  this.onChange(\"value\", e.nativeEvent.target.value, i)\n                }\n                defaultValue={this.props.comparison[i].value}\n              >\n                {options[i].map(option => (\n                  <option key={option} value={option}>\n                    {stats[option].shortname}\n                  </option>\n                ))}\n              </select>\n              {i !== 2 ? <div className=\"and\">and</div> : null}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { stats } from \"../../constants/constants\";\n\nimport \"./Legend.scss\";\n\nclass Legend extends Component {\n  render() {\n    let layer = this.props.layers\n      ? stats[this.props.layers.value]\n      : stats[\"tco2\"];\n\n    let min = layer.min;\n    let range = layer.max - layer.min;\n\n    if (this.props.layers.norm === \"capita\") {\n      min /= 2.65;\n      range /= 2.65;\n    }\n\n    const base = layer.base || 1;\n    const units = layer.units || \"\";\n\n    let decimal = 1;\n    if (layer.max < 10) {\n      decimal = 10;\n    }\n\n    return (\n      <div id=\"legend\">\n        <div className=\"bar\" />\n        <div className=\"labels\">\n          <div id=\"min\">{Math.round(min * decimal) / decimal}</div>\n          <div id=\"mid\">\n            {(units === \"$\" ? \"$\" : \"\") +\n              Math.round((Math.pow(0.5, base) * range + min) * decimal) /\n                decimal +\n              (units === \"$\" ? \"\" : \" \" + units)}\n          </div>\n          <div id=\"max\">{Math.round((min + range) * decimal) / decimal}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Legend;\n","import React, { Component } from \"react\";\nimport Legend from \"../Legend/Legend\";\nimport \"./LayerControl.scss\";\n\nclass LayerControl extends Component {\n  render() {\n    const { onChange, mapLayer } = this.props;\n\n    return (\n      <div className=\"LayerControl\">\n        <div id=\"info\">\n          <p>\n            An attempt to dig deeper into the interrelation of land use, wealth,\n            and greenhouse gas emissions.\n          </p>\n\n          <div id=\"me\">\n            <a href=\"http://subject.space\">Logan Williams</a>\n          </div>\n\n          <p>\n            Data and the hard work by the{\" \"}\n            <a href=\"https://coolclimate.berkeley.edu/\">CoolClimate Network</a>{\" \"}\n            at UC Berkeley.\n          </p>\n        </div>\n        <Legend layers={this.props.mapLayer} />\n        <div className=\"normalization\">\n          <div\n            className={mapLayer.value === \"tco2\" ? \"active\" : \"\"}\n            onClick={() => onChange({ value: \"tco2\" })}\n          >\n            Total CO<sub>2</sub> footprint\n          </div>\n        </div>\n        <div className=\"subcomponents\">\n          <div className=\"label\">Footprint components</div>\n\n          <div className=\"normalization\">\n            <div\n              className={mapLayer.value === \"housing\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"housing\" })}\n            >\n              Housing\n            </div>\n            <div\n              className={mapLayer.value === \"transport\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"transport\" })}\n            >\n              Transportation\n            </div>\n          </div>\n          <div className=\"normalization\">\n            <div\n              className={mapLayer.value === \"food\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"food\" })}\n            >\n              Food\n            </div>\n            <div\n              className={mapLayer.value === \"goods\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"goods\" })}\n            >\n              Goods\n            </div>\n            <div\n              className={mapLayer.value === \"services\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"services\" })}\n            >\n              Services\n            </div>\n          </div>\n          <div className=\"subcomponents\">\n            <div className=\"label\">Controlled for income</div>\n\n            <div className=\"normalization\">\n              <div\n                className={mapLayer.value === \"tco2_income\" ? \"active\" : \"\"}\n                onClick={() => onChange({ value: \"tco2_income\" })}\n              >\n                Total CO<sub>2</sub> footprint\n              </div>\n            </div>\n          </div>\n          <div className=\"normalization\">\n            <div\n              className={mapLayer.value === \"housing_income\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"housing_income\" })}\n            >\n              Housing\n            </div>\n            <div\n              className={mapLayer.value === \"transport_income\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"transport_income\" })}\n            >\n              Transportation\n            </div>\n          </div>\n          <div className=\"normalization\">\n            <div\n              className={mapLayer.value === \"food_income\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"food_income\" })}\n            >\n              Food\n            </div>\n            <div\n              className={mapLayer.value === \"goods_income\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"goods_income\" })}\n            >\n              Goods\n            </div>\n            <div\n              className={mapLayer.value === \"services_income\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"services_income\" })}\n            >\n              Services\n            </div>\n          </div>\n        </div>\n        <div className=\"subcomponents\">\n          <div className=\"label\">Census statistics</div>\n\n          <div className=\"normalization\">\n            <div\n              className={mapLayer.value === \"income\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"income\" })}\n            >\n              Income\n            </div>\n            <div\n              className={mapLayer.value === \"popden\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"popden\" })}\n            >\n              Population density\n            </div>\n          </div>\n          <div className=\"normalization\">\n            <div\n              className={mapLayer.value === \"vmt\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"vmt\" })}\n            >\n              Yearly driving\n            </div>\n            <div\n              className={mapLayer.value === \"homevalue\" ? \"active\" : \"\"}\n              onClick={() => onChange({ value: \"homevalue\" })}\n            >\n              Home value\n            </div>\n          </div>\n\n          <div className=\"subcomponents\">\n            <div className=\"label\">Normalization</div>\n\n            <div className=\"normalization\">\n              <div\n                className={mapLayer.norm === \"household\" ? \"active\" : \"\"}\n                onClick={() => onChange({ norm: \"household\" })}\n              >\n                per household\n              </div>\n              <div\n                className={mapLayer.norm === \"capita\" ? \"active\" : \"\"}\n                onClick={() => onChange({ norm: \"capita\" })}\n              >\n                per capita\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LayerControl;\n","import React, { Component } from \"react\";\nimport ZipCode from \"../ZipCode/ZipCode\";\nimport { stats } from \"../../constants/constants\";\nimport \"./ComparisonZips.scss\";\n\nclass ComparisonZips extends Component {\n  sortValues(criteria) {\n    let scores = this.props.zipcodes\n      .filter(z =>\n        criteria.reduce((acc, cur) => {\n          let target =\n            this.props.mapLayer.norm === \"capita\"\n              ? cur.target / cur.PersonsPerHousehold\n              : cur.target;\n\n          let value =\n            this.props.mapLayer.norm === \"capita\"\n              ? z[cur.value] / z.PersonsPerHousehold\n              : z[cur.value];\n\n          return (\n            acc &&\n            (cur.tolerance\n              ? value > target * cur.tolerance &&\n                value < target * (1.0 / cur.tolerance)\n              : true)\n          );\n        }, true)\n      )\n      .map(z => ({\n        score: Math.sqrt(\n          criteria.reduce((acc, cur) => {\n            let target =\n              this.props.mapLayer.norm === \"capita\"\n                ? cur.target / cur.PersonsPerHousehold\n                : cur.target;\n\n            let value =\n              this.props.mapLayer.norm === \"capita\"\n                ? z[cur.value] / z.PersonsPerHousehold\n                : z[cur.value];\n\n            return (cur.weight || 1) * Math.pow(value - target, 2) + acc;\n          }, 0)\n        ),\n        ...z\n      }));\n\n    let sorted = scores.sort((a, b) => a.score - b.score).slice(1, 10);\n    return sorted;\n    // return sorted.sort((a, b) => b.popden - a.popden);\n  }\n\n  render() {\n    let sortArray = this.props.comparison.map(c => {\n      let multiple = 1;\n\n      if (c.dir === \"higher\") multiple = 1 / 1.5;\n      if (c.dir === \"lower\") multiple = 1.5;\n\n      return {\n        value: stats[c.value].id,\n        target: this.props.targetZip[stats[c.value].id] / multiple,\n        PersonsPerHousehold: this.props.targetZip.PersonsPerHousehold,\n        tolerance: 0.8,\n        weight: 100 / Math.sqrt(stats[c.value].max - stats[c.value].min)\n      };\n    });\n\n    let sorted = this.sortValues(sortArray);\n\n    return (\n      <div className=\"ComparisonZips\">\n        {sorted.map(s => (\n          <ZipCode\n            key={s.ZipCode}\n            zip={s}\n            onClick={() => {\n              this.props.onClick(s);\n            }}\n            norm={this.props.mapLayer.norm}\n            stats={[\n              this.props.comparison[0].value,\n              this.props.comparison[1].value\n            ]}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ComparisonZips;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport Choropleth from \"./components/Choropleth/Choropleth\";\nimport ZipCode from \"./components/ZipCode/ZipCode\";\nimport Controls from \"./components/Controls/Controls\";\nimport LayerControl from \"./components/Controls/LayerControl\";\nimport \"./App.css\";\nimport ComparisonZips from \"./components/ComparisonZips/ComparisonZips\";\nimport missingZips from \"./assets/missing.json\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      zipcodes: [],\n      targetIncome: 12000,\n      hovered: null,\n      selected: null,\n      center: [-74, 40.7],\n      mapLayer: { norm: \"household\", value: \"tco2\" },\n      comparison: [\n        { value: \"income\", dir: \"similar\" },\n        { value: \"population\", dir: \"similar\" },\n        { value: \"tco2\", dir: \"similar\" }\n      ]\n    };\n  }\n\n  componentDidMount() {\n    d3.csv(\"./jones-kammen.csv\").then(zipcodes => {\n      zipcodes = zipcodes.filter(\n        z => z.ZipCode && missingZips.indexOf(z.ZipCode) < 0\n      );\n\n      this.setState({\n        zipcodes,\n        selected: zipcodes.filter(z => z.ZipCode === \"11379\")[0]\n      });\n    });\n  }\n\n  select(e) {\n    this.setState({\n      selected: e.features[0].properties,\n      center: [\n        e.features[0].properties.Longitude,\n        e.features[0].properties.Latitude\n      ]\n    });\n  }\n\n  hover(e) {\n    this.setState({\n      hovered: e.features[0].properties\n    });\n  }\n\n  onChange(selection) {\n    this.setState({ mapLayer: { ...this.state.mapLayer, ...selection } });\n  }\n\n  setComparison(comparison) {\n    this.setState({\n      comparison\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Choropleth\n          onClick={this.select.bind(this)}\n          center={this.state.center}\n          selected={\n            this.state.selected\n              ? this.state.selected.GEOID10\n                ? this.state.selected.GEOID10\n                : this.state.selected.ZipCode\n              : \"\"\n          }\n          layers={this.state.mapLayer}\n        />\n        {this.state.selected ? (\n          <div className=\"right\">\n            <div className=\"preview\">\n              <ZipCode\n                preview={true}\n                zip={this.state.selected}\n                norm={this.state.mapLayer.norm}\n                stats={[\n                  this.state.comparison[0].value,\n                  this.state.comparison[1].value\n                ]}\n              />\n            </div>\n            <Controls\n              comparison={this.state.comparison}\n              onChange={this.setComparison.bind(this)}\n            />\n            <ComparisonZips\n              zipcodes={this.state.zipcodes}\n              targetZip={this.state.selected}\n              onClick={zip => {\n                this.select({ features: [{ properties: zip }] });\n              }}\n              comparison={this.state.comparison}\n              mapLayer={this.state.mapLayer}\n            />\n          </div>\n        ) : null}\n        <LayerControl\n          onChange={this.onChange.bind(this)}\n          mapLayer={this.state.mapLayer}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}