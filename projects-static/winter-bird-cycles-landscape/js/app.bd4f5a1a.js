(function(t){function e(e){for(var r,o,s=e[0],l=e[1],d=e[2],c=0,u=[];c<s.length;c++)o=s[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);h&&h(e);while(u.length)u.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],r=!0,s=1;s<i.length;s++){var l=i[s];0!==a[l]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var r={},a={app:0},n=[];function o(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=r,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var h=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);var r=i("7a23");const a={class:"App"},n=Object(r["f"])("h1",null,"Bird signs and cycles, February, 2024",-1),o=Object(r["f"])("div",{class:"intro"},[Object(r["f"])("p",null,[Object(r["g"])(" Understanding the winter routines of my avian neighbors with the help of "),Object(r["f"])("a",{href:"https://github.com/mcguirepr89/BirdNET-Pi"},"BirdNET-Pi"),Object(r["g"])(", a microphone, and the Cornell Lab of Ornithology's "),Object(r["f"])("a",{href:"https://github.com/kahst/BirdNET-Analyzer"},"BirdNET classifier"),Object(r["g"])(". ")]),Object(r["f"])("p",{class:"smallonly"},"Best viewed on larger screens.")],-1),s={key:0,class:"storycontainer"},l=["innerHTML"],d={class:"storybuttons"},h={class:"row"},c={class:"left"},u={class:"buttons"},p=Object(r["f"])("div",{class:"footer"},[Object(r["f"])("p",null,[Object(r["g"])("By "),Object(r["f"])("a",{href:"https://subject.space"},"Logan Williams"),Object(r["g"])(".")]),Object(r["f"])("p",null,[Object(r["g"])(" All bird illustrations are by "),Object(r["f"])("a",{href:"https://en.wikipedia.org/wiki/Francis_Orpen_Morris"},"Francis Orpen Morris"),Object(r["g"])(", except for the Rose-ringed Parakeet, which is by "),Object(r["f"])("a",{href:"https://en.wikipedia.org/wiki/Alexander_Francis_Lydon"},"Alexander Francis Lydon"),Object(r["g"])(". ")])],-1),b={class:"viz"},g={class:"mute-wrapper"},m={key:0,src:"buttons/unmute.png"},f={key:1,src:"buttons/mute.png"};function y(t,e,i,y,w,_){const v=Object(r["m"])("BirdButton"),k=Object(r["m"])("BirdClock"),O=Object(r["m"])("Sounds");return Object(r["k"])(),Object(r["e"])("div",a,[n,o,w.step>=0?(Object(r["k"])(),Object(r["e"])("div",s,[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["l"])(w.story,(t,i)=>(Object(r["k"])(),Object(r["e"])("div",{class:Object(r["i"])({story:!0,hiddenleft:i>w.step,hiddenright:i<w.step,opaque:0==i||i>=w.story.length-3}),style:Object(r["j"])({left:t.left,top:t.top,right:t.right}),key:"story"+i},[Object(r["f"])("p",{innerHTML:t.text},null,8,l),Object(r["f"])("div",d,[i<w.story.length-1?(Object(r["k"])(),Object(r["e"])("button",{key:0,style:{display:"inline"},onClick:e[0]||(e[0]=t=>{w.step=-1,w.offset=0,w.audioClip=-1})},Object(r["n"])(0==w.step?"Explore on your own":"Close"),1)):Object(r["d"])("",!0),i<w.story.length-1?(Object(r["k"])(),Object(r["e"])("button",{key:1,style:{display:"inline"},onClick:e[1]||(e[1]=(...t)=>_.nextStep&&_.nextStep(...t))},Object(r["n"])(0==w.step?"Start with the jackdaws":"Next"),1)):(Object(r["k"])(),Object(r["e"])("button",{key:2,style:{display:"inline"},onClick:e[2]||(e[2]=t=>{w.step=-1,w.offset=0,w.audioClip=-1})}," Explore the sounds and cycles of my avian neighbors. "))])],6))),128))])):Object(r["d"])("",!0),Object(r["f"])("div",h,[Object(r["f"])("div",c,[Object(r["f"])("div",u,[(Object(r["k"])(!0),Object(r["e"])(r["a"],null,Object(r["l"])(w.birdCount,(t,e)=>(Object(r["k"])(),Object(r["c"])(v,{url:t["imageUrl"],color:w.colorScale(t["Com_Name"]),key:t["Com_Name"],active:w.activeBirds[e],bird:t,index:e,onBirdclick:t=>_.buttonClick(e),hovering:w.hovering,storyMode:w.step>=0},null,8,["url","color","active","bird","index","onBirdclick","hovering","storyMode"]))),128))]),p]),Object(r["f"])("div",b,[Object(r["f"])("div",g,[Object(r["f"])("div",{class:"mute",onClick:e[3]||(e[3]=t=>w.muted=!w.muted)},[w.muted?(Object(r["k"])(),Object(r["e"])("img",f)):(Object(r["k"])(),Object(r["e"])("img",m))]),Object(r["f"])("div",{class:Object(r["i"])({label:!0,activated:w.muted})},"Muted",2)]),w.birdCount.length>0?(Object(r["k"])(),Object(r["c"])(k,{key:0,allBirds:w.birdCount,activeBirds:w.activeBirds,colorScale:w.colorScale,onToggleSolo:_.toggleSolo,onMouseEnter:_.mouseEnter,onMouseLeave:_.mouseLeave,hovering:w.hovering,offset:w.offset},null,8,["allBirds","activeBirds","colorScale","onToggleSolo","onMouseEnter","onMouseLeave","hovering","offset"])):Object(r["d"])("",!0)])]),Object(r["h"])(O,{bird:w.playBird,onSoundStarted:e[4]||(e[4]=t=>w.playBird=null),clip:w.audioClip,muted:w.muted},null,8,["bird","clip","muted"])])}i("5b81");const w=["src"];function _(t,e,i,a,n,o){return Object(r["k"])(),Object(r["e"])("div",{class:Object(r["i"])({BirdButton:!0,active:this.active,parakeet:this.url.indexOf("Parakeet")>=0,hovering:this.index==this.hovering||n.hover,storyActive:this.storyMode}),style:Object(r["j"])({zIndex:n.hover||this.index==this.hovering?30:30-i.index}),onMouseenter:e[0]||(e[0]=t=>n.hover=!0),onMouseleave:e[1]||(e[1]=t=>n.hover=!1),onClick:e[2]||(e[2]=(...t)=>o.buttonClick&&o.buttonClick(...t))},[Object(r["f"])("img",{src:i.url,draggable:"false",style:Object(r["j"])({backgroundImage:"url("+i.url.replace("birds/","shadows/")+")"})},null,12,w),Object(r["f"])("div",{class:Object(r["i"])({label:!0,dark:o.isDark(i.color)}),style:Object(r["j"])({backgroundColor:i.color})},Object(r["n"])(i.bird.Com_Name),7)],38)}var v=i("898b"),k={name:"BirdButton",props:{url:String,active:null,color:Object,bird:Object,index:Number,hovering:Number,storyMode:Boolean},data(){return{hover:!1}},methods:{isDark(t){return v["g"](t).l>.7},buttonClick(t){t.stopPropagation(),this.active&&(this.hover=!1),this.$emit("birdclick",this.index)}}},O=(i("b0262"),i("6b0d")),x=i.n(O);const j=x()(k,[["render",_]]);var B=j;const C={id:"BirdClock",ref:"clock"};function E(t,e,i,a,n,o){return Object(r["k"])(),Object(r["e"])("svg",C,null,512)}i("14d9"),i("13d5");const L=48;var G={name:"BirdClock",props:{activeBirds:Object,allBirds:Array,colorScale:Function,offset:Number,hovering:Number},data(){return{width:928,height:928,margin:10,innerRadius:150,bird_groups:null,fontSize:window.innerWidth<=800?14:12}},computed:{outerRadius(){return this.width/2-this.margin},x(){return v["i"]().domain([0,L]).range([Math.PI,3*Math.PI])},y(){return v["k"]().domain([0,this.maxValue]).range([this.innerRadius,this.outerRadius])},maxValue(){return Math.max(40,.97*this.toPlot[this.toPlot.length-1].high.reduce((t,e)=>e>t?e:t))},toPlot(){let t=t=>{for(var e=[],i=[],r=[],a=0;a<t.length;a++){for(var n=0;n<L;n++)i[n]=r[n]||0,r[n]=i[n]+(this.activeBirds[a]?t[a][n]:0);e.push({name:t[a]["Com_Name"],low:i.map(t=>t),high:r.map(t=>t),height:Object.values(t[a]).slice(0,L)})}return e};return t(this.allBirds)}},methods:{argMax(t){return t.map((t,e)=>[t,e]).reduce((t,e)=>e[0]>t[0]?e:t)[1]},getLabelYOffset(t){return"European Robin"==t.name?-10:"Short-toed Treecreeper"==t.name?11:"Goldcrest"==t.name?-2:"Eurasian Blackbird"==t.name?11:"Hawfinch"==t.name?6:"Great Spotted Woodpecker"==t.name?-13:1},getLabelPosition(t){return"Eurasian Blackbird"==t.name?16:"Eurasian Wren"==t.name?18:"Redwing"==t.name?27:"Hawfinch"==t.name?26:"Tawny Owl"==t.name?5:this.argMax(t.height)},getLabelWidth(t){let e=5.8*t.name.length+15;return e*this.fontSize/12},getLabelHeight(){return this.fontSize+3}},watch:{hovering(t){null!==t?(v["n"](".birdpath").style("fill-opacity",(e,i)=>t==i?1:.5),v["n"](".textlabel").style("fill-opacity",(e,i)=>t==i?1:.2),v["n"](".textrect").style("fill-opacity",(e,i)=>t==i?1:.5)):(v["n"](".birdpath").style("fill-opacity",1),v["n"](".textlabel").style("fill-opacity",1),v["n"](".textrect").style("fill-opacity",1))},toPlot(t){const e=600,i=v["a"]().curve(v["d"]).angle((t,e)=>this.x(e));this.bird_groups.data(t).join("g").attr("id",t=>t.name),v["n"](".birdpath").data(t).join(".birdpath").transition().ease(v["f"]).duration(e).attr("d",t=>i.innerRadius(t=>this.y(t[0])).outerRadius(t=>this.y(t[1]))(v["o"]([t.low,t.high]))),v["n"](".textrect").data(t).join(".textrect").transition().ease(v["f"]).duration(e).attr("x",t=>this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.sin(this.x(this.getLabelPosition(t)))-this.getLabelWidth(t)/2).attr("y",t=>-this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.cos(this.x(this.getLabelPosition(t)))-this.getLabelHeight(t)+3+this.getLabelYOffset(t)).style("opacity",(t,e)=>this.activeBirds[e]?.5:0).style("pointer-events",(t,e)=>this.activeBirds[e]?"auto":"none"),v["n"](".textlabel").data(t).join(".textlabel").transition().ease(v["f"]).duration(e).attr("x",t=>this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.sin(this.x(this.getLabelPosition(t)))).attr("y",t=>-this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.cos(this.x(this.getLabelPosition(t)))+this.getLabelYOffset(t)).style("opacity",(t,e)=>this.activeBirds[e]?1:0).style("pointer-events",(t,e)=>this.activeBirds[e]?"auto":"none"),v["n"](".grid").transition().duration(e).ease(v["f"]).attr("r",t=>this.y(t)),v["n"](".gridtext").transition().duration(e).ease(v["f"]).attr("y",t=>this.y(t))},offset(t,e){let i=0==e?600:300*(t-e);0!==t?v["m"]("#timeline").transition().duration(i).ease(v["e"]).attr("transform",`rotate(${360*(t-12)/48})`).style("opacity",1):v["m"]("#timeline").transition().duration(i).ease(v["e"]).style("opacity",0)}},mounted(){const t=v["a"]().curve(v["d"]).angle((t,e)=>this.x(e)),e=v["m"](this.$refs.clock).attr("width",this.width).attr("height",this.height).attr("viewBox",[-this.width/2,-this.height/2,this.width,this.height]).attr("style","width: 100%; height: auto; font: 10px sans-serif;").attr("stroke-linejoin","round").attr("stroke-linecap","round");this.bird_groups=e.append("g").attr("id","bird_paths").selectAll("g").data(this.toPlot).attr("id",t=>t.name).join("g"),this.bird_groups.append("path").attr("class","birdpath").attr("id",t=>"birdpath"+t.name).attr("fill",t=>this.colorScale(t.name)).attr("stroke-width",1.5).attr("d",e=>t.innerRadius(t=>this.y(t[0])).outerRadius(t=>this.y(t[1]))(v["o"]([e.low,e.high]))).on("click",(t,e)=>{this.$emit("toggleSolo",e)}).on("mouseenter",(t,e)=>{this.$emit("mouseEnter",e)}).on("mouseleave",(t,e)=>{this.$emit("mouseLeave",e)});const i=e.append("g").attr("id","background").style("opacity",.9);i.append("image").attr("href","sunset.png").attr("x",-this.innerRadius).attr("y",-this.innerRadius).attr("width",2*this.innerRadius).attr("height",2*this.innerRadius);var r=e.append("g").attr("id","bird_labels").selectAll("g").data(this.toPlot).join("g").attr("id",t=>"label"+t.name);r.append("rect").attr("class","textrect").attr("x",t=>this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.sin(this.x(this.getLabelPosition(t)))-this.getLabelWidth(t)/2).attr("y",t=>-this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.cos(this.x(this.getLabelPosition(t)))-this.getLabelHeight(t)+3+this.getLabelYOffset(t)).attr("width",t=>this.getLabelWidth(t)).attr("height",t=>this.getLabelHeight(t)).attr("ry",7).attr("rx",7).style("fill",t=>v["b"](this.colorScale(t.name)).brighter(1)).style("opacity",(t,e)=>this.activeBirds[e]?.5:0).style("pointer-events",(t,e)=>this.activeBirds[e]?"auto":"none").on("click",(t,e)=>{this.$emit("toggleSolo",e)}).on("mouseenter",(t,e)=>{this.$emit("mouseEnter",e)}).on("mouseleave",(t,e)=>{this.$emit("mouseLeave",e)}),r.append("text").attr("class","textlabel").attr("x",t=>this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.sin(this.x(this.getLabelPosition(t)))).attr("y",t=>-this.y(.7*t.low[this.getLabelPosition(t)]+.3*t.high[this.getLabelPosition(t)])*Math.cos(this.x(this.getLabelPosition(t)))+this.getLabelYOffset(t)).text(t=>t.name).attr("dy","-1px").attr("text-anchor","middle").attr("font-size",this.fontSize).style("opacity",(t,e)=>this.activeBirds[e]?1:0).style("pointer-events",(t,e)=>this.activeBirds[e]?"auto":"none").on("click",(t,e)=>{this.$emit("toggleSolo",e)}).on("mouseenter",(t,e)=>{this.$emit("mouseEnter",e)}).on("mouseleave",(t,e)=>{this.$emit("mouseLeave",e)});const a=e.append("g").attr("class","grid");var n=[];n[0]=0,n[1]=39,n[2]=78,n[3]=156;for(var o=2;o<4;o+=1)n[o+2]=156*o;a.selectAll("circle").data(n).enter().append("circle").attr("class","grid").attr("cx",0).attr("cy",0).attr("r",t=>this.y(t)).style("fill","none").style("stroke","black").attr("stroke-opacity",.1),a.append("g").style("transform","rotate(-45deg)").selectAll("text").data(n).enter().append("text").classed("gridtext",!0).attr("x",0).attr("y",t=>this.y(t)).attr("dy",-2).text((t,e)=>1==e?"50%":2==e?"100%":3==e?"200%":4==e?"400%":5==e?"600%":void 0),e.append("g").classed("grid",!0).selectAll().data([0,4,8,12,16,20,24,28,32,36,40,44]).join("g").call(t=>t.append("path").attr("stroke","black").attr("stroke-opacity",.1).attr("d",t=>`\n            M${v["h"](this.x(t),this.innerRadius)}\n            L${v["h"](this.x(t),1.42*this.width)}\n          `)).call(t=>t.append("path").attr("id",t=>"text"+t).datum(t=>[t,t-13]).attr("fill","none").attr("d",([t])=>`M${v["h"](this.x(t),this.innerRadius)}\n            L 0 0\n        )}\n          `)).call(t=>t.append("text").attr("dy",-1).style("fill",t=>t>=16&&t<=32?"black":"white").append("textPath").attr("startOffset",6).attr("xlink:href",t=>"#text"+t).text(t=>t/2+":00"));var s=e.append("g").classed("grid",!0);s.append("path").attr("id","sunset").datum([34,21]).attr("fill","none").attr("d",([t])=>`\n            M${v["h"](this.x(t),this.innerRadius)}\n            L 0 0\n        )}\n          `),s.append("text").attr("dy",-1).append("textPath").attr("startOffset",42).attr("xlink:href","#sunset").style("font-weight","bold").text("Sunset"),s.append("path").attr("id","sunrise").datum([16,3]).attr("fill","none").attr("d",([t])=>`\n            M${v["h"](this.x(t),this.innerRadius)}\n            L 0 0\n        )}\n          `),s.append("text").attr("dy",-1).append("textPath").attr("startOffset",42).attr("xlink:href","#sunrise").style("font-weight","bold").text("Sunrise"),s.append("line").attr("id","timeline").attr("x1",-this.innerRadius-1).attr("y1",0).attr("x2",-478).attr("y2",0).attr("stroke","rgba(0,0,0,0.5)").attr("stroke-width","2px").style("opacity",0)}};i("a85d");const T=x()(G,[["render",E]]);var P=T;function M(t,e,i,a,n,o){return Object(r["k"])(),Object(r["e"])("div")}var S={"Eurasian-Blackbird":["Eurasian_Blackbird-73-2024-02-01-birdnet-06_36_39.mp3"],"Eurasian-Jay":["Eurasian_Jay_Eurasian_Jay-94-2024-01-11-birdnet-10_10_50.mp3"],"Great-Spotted-Woodpecker":["Great_Spotted_Woodpecker-70-2024-01-16-birdnet-09_48_05.mp3"],"Eurasian-Moorhen":["Eurasian_Moorhen-97-2024-01-25-birdnet-00_47_33.mp3"],"Long-tailed-Tit":["Long-tailed_Tit-94-2024-01-22-birdnet-11_00_17.mp3"],Hawfinch:["Hawfinch-87-2024-01-20-birdnet-03_38_55.mp3"],"Eurasian-Jackdaw":["Eurasian_Jackdaw-98-2024-02-04-birdnet-06_15_09.mp3","Eurasian_Jackdaw-94-2024-02-04-birdnet-10_08_15.mp3","Eurasian_Jackdaw-81-2024-02-02-birdnet-20_05_17.mp3","Eurasian_Jackdaw-96-2024-02-04-birdnet-16_50_55.mp3"],Redwing:["Redwing-93-2024-01-25-birdnet-02_33_31.mp3"],"Eurasian-Blue-Tit":["Eurasian_Blue_Tit-91-2024-01-21-birdnet-08_10_17.mp3"],"Great-Tit":["Great_Tit-89-2024-01-31-birdnet-11_37_06.mp3","Great_Tit-96-2024-01-30-birdnet-14_00_22.mp3"],"Eurasian-Coot":["Eurasian_Coot-91-2024-01-29-birdnet-00_47_45.mp3","Eurasian_Coot-95-2024-01-29-birdnet-00_47_45.mp3"],Mallard:["Mallard-86-2024-02-04-birdnet-04_54_32.mp3"],"Rose-ringed-Parakeet":["Rose-ringed_Parakeet-86-2024-02-04-birdnet-14_55_39.mp3","Rose-ringed_Parakeet-79-2024-02-04-birdnet-14_56_09.mp3"],"Eurasian-Magpie":["Eurasian_Magpie-99-2024-02-04-birdnet-14_25_39.mp3"],Goldcrest:["Goldcrest-87-2023-11-15-birdnet-16:04:37.mp3"],"Greater-White-fronted-Goose":["Greater_White-fronted_Goose-88-2024-01-29-birdnet-01_06_00.mp3","Greater_White-fronted_Goose-98-2024-01-28-birdnet-19_33_45.mp3","Greater_White-fronted_Goose-98-2024-01-29-birdnet-01_06_15.mp3"],"Carrion-Crow":["Carrion_Crow-76-2024-02-03-birdnet-07_16_34.mp3","Carrion_Crow-82-2024-01-31-birdnet-07_22_13.mp3","Carrion_Crow-73-2024-02-01-birdnet-07_29_09.mp3","Carrion_Crow-81-2024-01-31-birdnet-07_18_28.mp3","Carrion_Crow-79-2024-02-01-birdnet-07_27_54.mp3","Carrion_Crow-83-2024-02-02-birdnet-07_39_20.mp3"],"European-Robin":["European_Robin-79-2024-01-28-birdnet-08_56_09.mp3"],"Egyptian-Goose":["Egyptian_Goose_Egyptian_Goose-100-2024-01-25-birdnet-23_45_29.mp3"],"Short-toed-Treecreeper":["Short-toed_Treecreeper-72-2024-01-27-birdnet-12_30_07.mp3"],"Tawny-Owl":["Tawny_Owl-92-2023-12-17-birdnet-21_33_16.mp3","Tawny_Owl-99-2023-11-16-birdnet-05_13_00.mp3"],"Gray-Heron":["Gray_Heron-100-2024-01-19-birdnet-04_44_01.mp3"],"Eurasian-Wren":["Eurasian_Wren-93-2024-02-01-birdnet-09_58_55.mp3"],"Graylag-Goose":["Graylag_Goose-81-2024-01-23-birdnet-08_45_02.mp3","Graylag_Goose-87-2024-01-16-birdnet-10_44_50.mp3"],story:["jackdaw_morning.mp3","crows.mp3","jackdaw_straggler.mp3","jackdaw_afternoon.mp3","jackdaw_night.mp3","tawny_owl.mp3","white-fronted-goose.mp3","night_coots.mp3","parakeets_clipped.mp3","egyptian_geese.mp3","songbirds.mp3","afternoon_songbirds.mp3","redwing_clipped.mp3"]},R={name:"Sounds",props:{bird:null,muted:Boolean,clip:Number},mounted(){for(const t in S)S[t]=S[t].map(e=>{const i=new Audio(`sounds/${t}/${e}`);return i.load(),i})},methods:{play(t){let e=this.clip>=0?this.clip:Math.floor(Math.random()*S[t].length);const i=S[t][e];this.muted?i.volume=0:i.volume=1,i.play(),i.onended=()=>{this.$emit("soundStarted")}}},watch:{bird(t){t&&this.play(t)},clip(t){if("story"==this.bird)for(const e in S)S[e].forEach((i,r)=>{if("story"!==e||r!==t){let t;t=window.setInterval(()=>{let e=i.volume-.04;e<=0?(i.volume=0,i.pause(),i.currentTime=0,window.clearInterval(t)):i.volume=e},10)}});t>=0&&this.play(this.bird)},muted(t){for(const e in S)S[e].forEach(e=>{t?(e.volume=0,e.muted=!0):(e.volume=1,e.muted=!1)})}}};const W=x()(R,[["render",M]]);var A=W;const J=25,N=["Eurasian Jackdaw","Carrion Crow","Eurasian Magpie","Eurasian Jay","Tawny Owl","Gray Heron","Eurasian Moorhen","Eurasian Coot","Egyptian Goose","Graylag Goose","Greater White-fronted Goose","Mallard","Rose-ringed Parakeet","Long-tailed Tit","Great Tit","Eurasian Blue Tit","European Robin","Eurasian Wren","Short-toed Treecreeper","Goldcrest","Eurasian Blackbird","Redwing","Hawfinch","Great Spotted Woodpecker"];var $={name:"App",data(){return{birdList:[],birdCount:[],activeBirds:Array(24).fill(!0),step:0,offset:0,hovering:null,playBird:null,audioClip:-1,muted:!1,colorScale:t=>{let e=v["j"](v["l"]);for(let l=0;l<25;l++)e(l);const i=["Eurasian Jackdaw","Carrion Crow","Eurasian Magpie","Eurasian Jay"],r=["Mallard","Egyptian Goose","Greater White-fronted Goose","Graylag Goose"],a=["Eurasian Coot","Eurasian Moorhen"],n=["Eurasian Blue Tit","Great Tit","Long-tailed Tit"],o=["European Robin","Eurasian Wren","Short-toed Treecreeper","Goldcrest"],s=["Redwing","Eurasian Blackbird","Hawfinch"];return i.indexOf(t)>=0?v["b"](e(6)).brighter(.5*i.indexOf(t)-.5):r.indexOf(t)>=0?v["b"](e(0)).brighter(.5*r.indexOf(t)-.5):a.indexOf(t)>=0?v["b"](e(1)).brighter(a.indexOf(t)):n.indexOf(t)>=0?v["b"](e(7)).brighter(.5*n.indexOf(t)-.5):o.indexOf(t)>=0?v["b"](e(3)).brighter(.5*o.indexOf(t)-1):s.indexOf(t)>=0?v["b"](e(2)).brighter(.5*s.indexOf(t)-.5):"Rose-ringed Parakeet"==t?v["b"](e(4)).brighter(.5):"Tawny Owl"==t?v["b"](e(8)):"Gray Heron"==t?v["b"](e(9)):"Great Spotted Woodpecker"==t?v["b"](e(5)).darker(0):v["b"](e(t))},story:[{text:"How much of what we hear do we notice? A microphone on my balcony listened to the birds of Amsterdam, and suddenly, so did I.",birds:[],offset:0,top:"8em"},{text:"The morning begins with the jackdaws. It is still dark when I awake, but I can tell it's around 6am. This winter the jackdaws have chosen a roost outside my bedroom window and their chatter is as reliable as any alarm.",birds:["Eurasian Jackdaw"],offset:12,playBird:"story",audioClip:0,left:"12em",top:"8em"},{text:"Around 7:00, they are joined by the crows, stirred from their roosts and swooping among the bare, still-dark trees.",birds:["Eurasian Jackdaw","Carrion Crow"],offset:14,playBird:"story",audioClip:1},{text:"The corvid dawn chorus wanes around 9:00 as the last of the stragglers depart for their morning commute to the coastline, soggy polders, and trash sorting facilities that surround the&nbsp;city.",birds:["Eurasian Jackdaw","Carrion Crow"],offset:18,playBird:"story",audioClip:2},{text:"By midafternoon they return, jostling for position in the communal winter roosting trees, sounds of small negotiations, hellos, courtship and contentment echoing from branch to&nbsp;branch.",birds:["Eurasian Jackdaw","Carrion Crow"],offset:30,playBird:"story",audioClip:3},{text:"Slowly, the thousands of chirpy caws diminish into the sleepy solitude of the&nbsp;night.",birds:["Eurasian Jackdaw","Carrion Crow"],offset:40,playBird:"story",audioClip:4},{text:"But not so sleepy. Darkness is the domain of the tawny owl, the Vondelpark's charismatic nocturnal&nbsp;raptor.",birds:["Eurasian Jackdaw","Carrion Crow","Tawny Owl"],offset:50,playBird:"story",audioClip:5,top:"18em"},{text:"Migratory geese fly laboriously by on midnight&nbsp;journeys.",birds:["Eurasian Jackdaw","Carrion Crow","Tawny Owl","Greater White-fronted Goose"],top:"28em",playBird:"story",audioClip:6},{text:"And, of course, the coots and moorhens, never far out of sight but not often heard until their provincial pre-dawn&nbsp;squabbles.",birds:["Eurasian Jackdaw","Carrion Crow","Tawny Owl","Greater White-fronted Goose","Eurasian Moorhen","Eurasian Coot"],offset:54,top:"28em",playBird:"story",audioClip:7},{text:"Each species has its own routine. Day belongs to the parakeets, naturalized in the 1970s and now ubiquitous in the&nbsp;Randstad.",birds:["Rose-ringed Parakeet"],top:"8em",offset:0,playBird:"story",audioClip:8},{text:"And I particularly associate a certain type of lazy, cold winter sunrise with the aggrieved calls of the Egyptian&nbsp;Geese.",birds:["Rose-ringed Parakeet","Egyptian Goose","Graylag Goose"],top:"6em",playBird:"story",audioClip:9},{text:"The short days all fall into their own predictable rhythm. Some songbirds begin their salutations promptly at&nbsp;sunrise.",birds:["European Robin","Eurasian Blackbird","Eurasian Blue Tit","Eurasian Wren","Great Tit"],top:"6em",playBird:"story",audioClip:10},{text:"While others seem to take longer to warm up in these dark&nbsp;days.",birds:["European Robin","Eurasian Blackbird","Eurasian Blue Tit","Eurasian Wren","Great Tit","Long-tailed Tit","Short-toed Treecreeper","Goldcrest"],top:"6em",playBird:"story",audioClip:11},{text:"I'm excited to have a small window into these daily patterns and, eventually, their seasonality. As the days lengthen and breeding season begins in the spring, these patterns and these birds will&nbsp;change.",birds:["European Robin","Eurasian Blackbird","Eurasian Blue Tit","Eurasian Wren","Great Tit","Long-tailed Tit","Short-toed Treecreeper","Goldcrest"],top:"6em"},{text:"In the dataset, a single songbird sings all night: the redwing. Is this real? I have seen redwings around this winter, but they are not especially common. How confidently can the AI model distinguish this nocturnal 'ziep' sound from other thrushes?",birds:["European Robin","Eurasian Blackbird","Eurasian Blue Tit","Eurasian Wren","Great Tit","Long-tailed Tit","Short-toed Treecreeper","Goldcrest","Redwing"],top:"6em",playBird:"story",audioClip:12},{text:"Like the observation biases inherent in traditional birding, there are limitations everywhere here — from the AI model to the simple fact that not all birds are vocal. Despite this, I've found both to be valuable tools for training myself to look and listen a little deeper.",birds:[],top:"5em",playBird:null}],solo:null}},components:{BirdButton:B,BirdClock:P,Sounds:A},computed:{filteredActiveBirds(){return this.birdCount.filter((t,e)=>this.activeBirds[e])}},mounted(){v["c"]("bird_freq_count_30.csv").then(t=>{t=t.sort((t,e)=>N.indexOf(t.Com_Name)-N.indexOf(e.Com_Name)),this.birdCount=t.map(t=>{for(let e=0;e<48;e++)t[e]=+t[e];return t}).map(t=>({...t,imageUrl:"birds/"+t.Com_Name.replaceAll(" ","-")+".png"}))})},methods:{nextStep(){var t,e;this.step=(this.step+1)%this.story.length,this.offset=null!==(t=this.story[this.step].offset)&&void 0!==t?t:0,this.playBird=this.story[this.step].playBird,this.audioClip=null!==(e=this.story[this.step].audioClip)&&void 0!==e?e:-1,this.story[this.step].birds.length>0?this.activeBirds=this.birdCount.map(t=>this.story[this.step].birds.indexOf(t.Com_Name)>=0):this.activeBirds=Array(J).fill(!0)},toggleSolo(t){if(this.solo)this.activeBirds=this.solo,this.solo=null,this.playBird=null;else{this.solo=this.activeBirds;let e=this.birdCount.map(t=>t.Com_Name).indexOf(t.name);this.activeBirds=this.activeBirds.map((t,i)=>i==e),this.playBird=t.name.replaceAll(" ","-")}},mouseEnter(t){let e=this.birdCount.map(t=>t.Com_Name).indexOf(t.name);this.hovering=e},mouseLeave(){this.hovering=null},buttonClick(t){-1==this.step&&(this.solo=null,this.activeBirds[t]=!this.activeBirds[t],this.playBird=this.birdCount[t].Com_Name.replaceAll(" ","-"))}}};i("e5ac");const H=x()($,[["render",y]]);var I=H;Object(r["b"])(I).mount("#app")},a85d:function(t,e,i){"use strict";i("ddcf")},b0262:function(t,e,i){"use strict";i("fe86")},ddcf:function(t,e,i){},e5ac:function(t,e,i){"use strict";i("e9b5")},e9b5:function(t,e,i){},fe86:function(t,e,i){}});
//# sourceMappingURL=app.bd4f5a1a.js.map